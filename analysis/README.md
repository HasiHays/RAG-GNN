# Analysis scripts

This folder contains the analysis scripts used to generate results and figures for the paper.

## Scripts

### `RAG_GNN_proper_analysis.py`
Main analysis script that:
- Loads cancer signaling network from STRING database
- Implements GNN message passing layers
- Creates knowledge base from functional annotations
- Generates RAG-GNN and GNN-only embeddings
- Produces Figure 1 (embedding visualization) and Figure 2 (retrieval performance)

### `fair_benchmark_analysis.py`
Comprehensive benchmark comparison:
- Generates embeddings for 10 baseline methods
- Implements fair node classification (topology-derived labels)
- Evaluates silhouette score, link prediction, and node classification
- Produces benchmark results CSV

### `fix_benchmark_figure.py`
Generates publication-quality benchmark figure (Figure 5):
- 8-panel figure with bar charts, scatter plots, radar chart
- Set2 color palette for colorblind accessibility

### `generate_fig4_ddr1.py`
DDR1 case study visualization (Figure 4):
- Extracts DDR1 subnetwork from protein interaction network
- Visualizes functional categories and embedding similarities
- Dual-panel network visualization

## Running the analysis

```bash
# Navigate to analysis folder
cd analysis

# Create output directory
mkdir -p figures

# Run main analysis (generates Fig 1-2)
python RAG_GNN_proper_analysis.py

# Run benchmark (generates results CSV)
python fair_benchmark_analysis.py

# Generate benchmark figure
python fix_benchmark_figure.py

# Generate DDR1 case study figure
python generate_fig4_ddr1.py
```

## Required data files

Place these files in `figures/` subfolder before running:
- `protein_network.edgelist` - STRING network edges
- `protein_annotations.csv` - Protein functional categories

These files are generated by the first run of `RAG_GNN_proper_analysis.py`.

## Output

Results are saved to the `figures/` subfolder:
- `Fig-1-RAG-Embeddings.pdf/png/svg`
- `Fig-2-Retrieval-Performance.pdf/png/svg`
- `Fig-4-DDR1-Network.pdf/png/svg`
- `Fig-Benchmark.pdf/png/svg`
- `fair_benchmark_results.csv`
- `analysis_summary.json`
